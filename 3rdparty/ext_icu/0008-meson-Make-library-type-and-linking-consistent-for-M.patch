From 04a239bb8a5a8811256f4dd570ab99ae20d58901 Mon Sep 17 00:00:00 2001
From: "L. E. Segovia" <amy@amyspark.me>
Date: Wed, 16 Nov 2022 19:29:41 -0300
Subject: [PATCH 08/18] meson: Make library type and linking consistent for
 MSVC

---
 source/common/meson.build         | 2 +-
 source/tools/toolutil/meson.build | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/source/common/meson.build b/source/common/meson.build
index fbeba17..a3f3fe2 100644
--- a/source/common/meson.build
+++ b/source/common/meson.build
@@ -206,7 +206,7 @@ common_lib = library(
   include_directories: incdir,
   c_args: '-DU_COMMON_IMPLEMENTATION',
   cpp_args: '-DU_COMMON_IMPLEMENTATION',
-  link_whole: stubdata_lib,
+  link_with: stubdata_lib,
   dependencies: dl_dep,
   version: U_ICU_VERSION,
 )
diff --git a/source/tools/toolutil/meson.build b/source/tools/toolutil/meson.build
index 2ade695..636f654 100644
--- a/source/tools/toolutil/meson.build
+++ b/source/tools/toolutil/meson.build
@@ -34,7 +34,7 @@ if host_machine.system() != 'windows' and host_machine.system() != 'darwin'
 endif
 
 
-toolutil_lib = static_library(
+toolutil_lib = library(
   'toolutil',
   sources,
   include_directories: incdir,
-- 
2.37.1.windows.1

