From 3be0f84997542c9a6e6868d429030d10e7f8a704 Mon Sep 17 00:00:00 2001
From: "L. E. Segovia" <amy@amyspark.me>
Date: Thu, 17 Nov 2022 14:08:02 -0300
Subject: [PATCH 15/18] meson: Fix missing header installation

---
 source/common/meson.build | 106 ++++++++++++++++++++++++++++++++++++++
 source/i18n/meson.build   |  96 ++++++++++++++++++++++++++++++++++
 2 files changed, 202 insertions(+)

diff --git a/source/common/meson.build b/source/common/meson.build
index 5f5455b..468f83a 100644
--- a/source/common/meson.build
+++ b/source/common/meson.build
@@ -221,3 +221,109 @@ icuuc_dep = declare_dependency(
 if meson.version().version_compare('>=0.54.0')
   meson.override_dependency('icu-uc', icuuc_dep)
 endif
+
+headers = files(
+  'unicode/appendable.h',
+  'unicode/brkiter.h',
+  'unicode/bytestream.h',
+  'unicode/bytestrie.h',
+  'unicode/bytestriebuilder.h',
+  'unicode/caniter.h',
+  'unicode/casemap.h',
+  'unicode/char16ptr.h',
+  'unicode/chariter.h',
+  'unicode/dbbi.h',
+  'unicode/docmain.h',
+  'unicode/dtintrv.h',
+  'unicode/edits.h',
+  'unicode/enumset.h',
+  'unicode/errorcode.h',
+  'unicode/filteredbrk.h',
+  'unicode/icudataver.h',
+  'unicode/icuplug.h',
+  'unicode/idna.h',
+  'unicode/localebuilder.h',
+  'unicode/localematcher.h',
+  'unicode/localpointer.h',
+  'unicode/locdspnm.h',
+  'unicode/locid.h',
+  'unicode/messagepattern.h',
+  'unicode/normalizer2.h',
+  'unicode/normlzr.h',
+  'unicode/parseerr.h',
+  'unicode/parsepos.h',
+  'unicode/platform.h',
+  'unicode/ptypes.h',
+  'unicode/putil.h',
+  'unicode/rbbi.h',
+  'unicode/rep.h',
+  'unicode/resbund.h',
+  'unicode/schriter.h',
+  'unicode/simpleformatter.h',
+  'unicode/std_string.h',
+  'unicode/strenum.h',
+  'unicode/stringoptions.h',
+  'unicode/stringpiece.h', 
+  'unicode/stringtriebuilder.h',
+  'unicode/symtable.h',
+  'unicode/ubidi.h',
+  'unicode/ubiditransform.h',
+  'unicode/ubrk.h',
+  'unicode/ucasemap.h',
+  'unicode/ucat.h',
+  'unicode/uchar.h',
+  'unicode/ucharstrie.h',
+  'unicode/ucharstriebuilder.h',
+  'unicode/uchriter.h',
+  'unicode/uclean.h',
+  'unicode/ucnv.h',
+  'unicode/ucnvsel.h',
+  'unicode/ucnv_cb.h',
+  'unicode/ucnv_err.h',
+  'unicode/uconfig.h',
+  'unicode/ucpmap.h',
+  'unicode/ucptrie.h',
+  'unicode/ucurr.h',
+  'unicode/udata.h',
+  'unicode/udisplaycontext.h',
+  'unicode/uenum.h',
+  'unicode/uidna.h',
+  'unicode/uiter.h',
+  'unicode/uldnames.h',
+  'unicode/uloc.h',
+  'unicode/umachine.h',
+  'unicode/umisc.h',
+  'unicode/umutablecptrie.h',
+  'unicode/unifilt.h',
+  'unicode/unifunct.h',
+  'unicode/unimatch.h',
+  'unicode/uniset.h',
+  'unicode/unistr.h',
+  'unicode/unorm.h',
+  'unicode/unorm2.h',
+  'unicode/uobject.h',
+  'unicode/urename.h',
+  'unicode/urep.h',
+  'unicode/ures.h',
+  'unicode/uscript.h',
+  'unicode/uset.h',
+  'unicode/usetiter.h',
+  'unicode/ushape.h',
+  'unicode/usprep.h',
+  'unicode/ustring.h',
+  'unicode/ustringtrie.h',
+  'unicode/utext.h',
+  'unicode/utf.h',
+  'unicode/utf16.h',
+  'unicode/utf32.h',
+  'unicode/utf8.h',
+  'unicode/utf_old.h',
+  'unicode/utrace.h',
+  'unicode/utypes.h',
+  'unicode/uvernum.h',
+  'unicode/uversion.h'
+)
+
+install_headers(headers,
+  subdir: 'unicode'
+)
diff --git a/source/i18n/meson.build b/source/i18n/meson.build
index 1fe2536..a0da30e 100644
--- a/source/i18n/meson.build
+++ b/source/i18n/meson.build
@@ -284,3 +284,99 @@ icui18n_dep = declare_dependency(
 if meson.version().version_compare('>=0.54.0')
   meson.override_dependency('icu-i18n', icui18n_dep)
 endif
+
+headers = files(
+  'unicode/alphaindex.h',
+  'unicode/basictz.h',
+  'unicode/calendar.h',
+  'unicode/choicfmt.h',
+  'unicode/coleitr.h',
+  'unicode/coll.h',
+  'unicode/compactdecimalformat.h',
+  'unicode/curramt.h',
+  'unicode/currpinf.h',
+  'unicode/currunit.h',
+  'unicode/datefmt.h',
+  'unicode/dcfmtsym.h',
+  'unicode/decimfmt.h',
+  'unicode/displayoptions.h',
+  'unicode/dtfmtsym.h',
+  'unicode/dtitvfmt.h',
+  'unicode/dtitvinf.h',
+  'unicode/dtptngen.h',
+  'unicode/dtrule.h',
+  'unicode/fieldpos.h',
+  'unicode/fmtable.h',
+  'unicode/format.h',
+  'unicode/formattedvalue.h',
+  'unicode/fpositer.h',
+  'unicode/gender.h',
+  'unicode/gregocal.h',
+  'unicode/listformatter.h',
+  'unicode/measfmt.h',
+  'unicode/measunit.h',
+  'unicode/measure.h',
+  'unicode/msgfmt.h',
+  'unicode/nounit.h',
+  'unicode/numberformatter.h',
+  'unicode/numberrangeformatter.h',
+  'unicode/numfmt.h',
+  'unicode/numsys.h',
+  'unicode/plurfmt.h',
+  'unicode/plurrule.h',
+  'unicode/rbnf.h',
+  'unicode/rbtz.h',
+  'unicode/regex.h',
+  'unicode/region.h',
+  'unicode/reldatefmt.h',
+  'unicode/scientificnumberformatter.h',
+  'unicode/search.h',
+  'unicode/selfmt.h',
+  'unicode/simpletz.h',
+  'unicode/smpdtfmt.h',
+  'unicode/sortkey.h',
+  'unicode/stsearch.h',
+  'unicode/tblcoll.h',
+  'unicode/timezone.h',
+  'unicode/tmunit.h',
+  'unicode/tmutamt.h',
+  'unicode/tmutfmt.h',
+  'unicode/translit.h',
+  'unicode/tzfmt.h',
+  'unicode/tznames.h',
+  'unicode/tzrule.h',
+  'unicode/tztrans.h',
+  'unicode/ucal.h',
+  'unicode/ucol.h',
+  'unicode/ucoleitr.h',
+  'unicode/ucsdet.h',
+  'unicode/udat.h',
+  'unicode/udateintervalformat.h',
+  'unicode/udatpg.h',
+  'unicode/udisplayoptions.h',
+  'unicode/ufieldpositer.h',
+  'unicode/uformattable.h',
+  'unicode/uformattedvalue.h',
+  'unicode/ugender.h',
+  'unicode/ulistformatter.h',
+  'unicode/ulocdata.h',
+  'unicode/umsg.h',
+  'unicode/unirepl.h',
+  'unicode/unum.h',
+  'unicode/unumberformatter.h',
+  'unicode/unumberrangeformatter.h',
+  'unicode/unumsys.h',
+  'unicode/upluralrules.h',
+  'unicode/uregex.h',
+  'unicode/uregion.h',
+  'unicode/ureldatefmt.h',
+  'unicode/usearch.h',
+  'unicode/uspoof.h',
+  'unicode/utmscale.h',
+  'unicode/utrans.h',
+  'unicode/vtzone.h'
+)
+
+install_headers(headers,
+  subdir: 'unicode'
+)
-- 
2.37.1.windows.1

